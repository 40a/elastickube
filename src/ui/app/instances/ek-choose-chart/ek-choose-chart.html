<div layout="column">
    <div class="ek-choose-chart__toolbar" layout="row">
        <div class="ek-choose-chart__toolbar__step" flex="5">
            <h2 class="ek-choose-chart__toolbar__step__number">1</h2>
        </div>

        <div ng-if="ctrl.step === 1" class="ek-choose-chart__toolbar__content"
             layout="column" layout-align="center start">
            <h2 class="ek-choose-chart__toolbar__content__title">Choose chart</h2>
            <ek-search-filter class="ek-choose-chart__toolbar__content__search ek-choose-chart__toolbar__content__search--animate"
                              collection-to-be-filtered="ctrl.charts"
                              icon-alignment="left"
                              filtered-collection="ctrl.filteredCharts"
                              ek-focus
                              search-field="name"></ek-search-filter>
        </div>

        <div ng-if="ctrl.step !== 1" class="ek-choose-chart__toolbar__content" layout="row" layout-align="start center">
            <h2 class="ek-choose-chart__toolbar__content__title" flex="40">Choose chart</h2>
            <img class="ek-choose-chart__toolbar__content__charticon" ng-src="/icons/charts/{{ ctrl.selectedChart._id.$oid }}">
            <div flex="60" class="ek-choose-chart__toolbar__content__chartname">{{ ctrl.selectedChart.name }}</div>
            <div ek-ink-ripple="dark"
                 class="ek-choose-chart__toolbar__content__edit"
                 ng-click="ctrl.editChart()">
                <md-icon md-svg-src="{{:: icons.IC_CREATE_48PX }}"></md-icon>
            </div>
        </div>

    </div>
    <div ng-if="ctrl.step === 1" class="ek-choose-chart__grid ek-choose-chart__grid--animate">
        <ek-choose-chart-grid charts="ctrl.filteredCharts" selected-chart="ctrl.selectedChart"
                              on-selection="ctrl.selectChart()"></ek-choose-chart-grid>

        <div class="ek-choose-chart__grid__select" layout="row" layout-align="end">
            <md-button class="md-raised md-primary ek-button" ng-disabled="ctrl.chartNotSelected()" ng-click="ctrl.chartSelected()">
                Select
            </md-button>
        </div>
    </div>
</div>
